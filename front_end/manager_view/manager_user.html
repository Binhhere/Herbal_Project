<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Quản Lý Người Dùng</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="../images//favicon.png">
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700&display=swap">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Các thư viện CSS cần thiết -->
    <link rel="stylesheet" href="css/fontawesome-stars.css">
    <link rel="stylesheet" href="css/meanmenu.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/venobox.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/helper.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <style>
      body {
        color: #566787;
        background: #f5f5f5;
        font-family: "Lora", serif;
        font-size: 13px;
      }
      table {
        width: 100%;
        table-layout: auto;
        word-break: break-word;
      }
      .table-wrapper {
        width: 100%;
        margin: 30px auto;
        background: #fff;
        padding: 20px;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
        overflow-x: auto;
      }
      .table-title {
        padding-bottom: 10px;
        margin: 0 0 10px;
      }
      .table-title h2 {
        margin: 6px 0 0;
        font-size: 22px;
      }
      .table-title .add-new {
        float: right;
        height: 30px;
        font-weight: bold;
        font-size: 12px;
        text-shadow: none;
        min-width: 100px;
        border-radius: 50px;
        line-height: 13px;
      }
      .table-title .add-new i {
        margin-right: 4px;
      }
      table.table {
        table-layout: fixed;
      }
      table.table tr th,
      table.table tr td {
        border-color: #e9e9e9;
      }
      table.table th i {
        font-size: 13px;
        margin: 0 5px;
        cursor: pointer;
      }
      table.table th:last-child {
        width: 120px;
      }
      table.table td a {
        cursor: pointer;
        display: inline-block;
        margin: 0 5px;
        min-width: 24px;
      }
      table.table td a.add {
        color: #27c46b;
      }
      table.table td a.edit {
        color: #ffc107;
      }
      table.table td a.delete {
        color: #e34724;
      }
      table.table td i {
        font-size: 19px;
      }
      table.table td a.add i {
        font-size: 24px;
        margin-right: -1px;
        position: relative;
        top: 3px;
      }
      table.table .form-control {
        height: 100%;
        line-height: 32px;
        box-shadow: none;
        border-radius: 2px;
      }
      table.table .form-control.error {
        border-color: #f50000;
      }
      table.table td .add {
        display: none;
      }
      th, td {
        padding: 10px;
        text-align: left;
      }
      
      th:nth-child(6), td:nth-child(6) {
        width: 25%; 
        min-width: 200px; 
        word-wrap: break-word;
      }
      
      th:nth-child(7), td:nth-child(7) {
        width: 10%;
        min-width: 80px;
        text-align: center;
      }

    </style>
    <script>
      $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
        var actions = $("table td:last-child").html();

        // Thêm dòng mới với các trường thông tin mở rộng
        $(".add-new").click(function () {
          $(this).attr("disabled", "disabled");
          var index = $("table tbody tr:last-child").index();
          var row =
            "<tr>" +
            '<td><input type="text" class="form-control" name="fullname" id="fullname"></td>' +
            '<td><select class="form-control" name="role" id="role">' +
            '<option value="Bác sỹ">Bác sỹ</option>' +
            '<option value="Khách hàng">Khách hàng</option>' +
            "</select></td>" +
            '<td><input type="date" class="form-control" name="dob" id="dob"></td>' +
            '<td><input type="text" class="form-control" name="phone" id="phone"></td>' +
            '<td><input type="text" class="form-control" name="cccd" id="cccd"></td>' +
            '<td><input type="email" class="form-control" name="email" id="email"></td>' +
            "<td>" +
            actions +
            "</td>" +
            "</tr>";
          $("table").append(row);
          $("table tbody tr")
            .eq(index + 1)
            .find(".add, .edit")
            .toggle();
          $('[data-toggle="tooltip"]').tooltip();
        });

        // Thêm dòng (lưu dữ liệu đã nhập)
        $(document).on("click", ".add", function () {
          var empty = false;
          // Lấy các trường input và select trong hàng hiện tại
          var input = $(this)
            .parents("tr")
            .find(
              'input[type="text"], input[type="date"], input[type="email"], select'
            );
          input.each(function () {
            if (!$(this).val()) {
              $(this).addClass("error");
              empty = true;
            } else {
              $(this).removeClass("error");
            }
          });
          $(this).parents("tr").find(".error").first().focus();
          if (!empty) {
            // Lưu giá trị từng ô và hiển thị text thay vì input
            input.each(function () {
              $(this).parent("td").html($(this).val());
            });
            $(this).parents("tr").find(".add, .edit").toggle();
            $(".add-new").removeAttr("disabled");
          }
        });

        // Chỉnh sửa dòng đã có
        $(document).on("click", ".edit", function () {
          $(this)
            .parents("tr")
            .find("td:not(:last-child)")
            .each(function () {
              var currentText = $(this).text();
              var colIndex = $(this).index();
              // Cột Vai trò dùng select
              if (colIndex === 1) {
                var selectHTML =
                  '<select class="form-control" name="role" id="role">' +
                  '<option value="Bác sỹ"' +
                  (currentText === "Bác sỹ" ? " selected" : "") +
                  ">Bác sỹ</option>" +
                  '<option value="Khách hàng"' +
                  (currentText === "Khách hàng" ? " selected" : "") +
                  ">Khách hàng</option>" +
                  "</select>";
                $(this).html(selectHTML);
              }
              // Cột Ngày sinh dùng input type="date"
              else if (colIndex === 2) {
                $(this).html(
                  '<input type="date" class="form-control" value="' +
                    currentText +
                    '">'
                );
              }
              // Cột Email dùng input type="email"
              else if (colIndex === 5) {
                $(this).html(
                  '<input type="email" class="form-control" value="' +
                    currentText +
                    '">'
                );
              }
              // Các cột khác dùng input type="text"
              else {
                $(this).html(
                  '<input type="text" class="form-control" value="' +
                    currentText +
                    '">'
                );
              }
            });
          $(this).parents("tr").find(".add, .edit").toggle();
          $(".add-new").attr("disabled", "disabled");
        });

        // Xóa dòng
        $(document).on("click", ".delete", function () {
          $(this).parents("tr").remove();
          $(".add-new").removeAttr("disabled");
        });
      });
      $(document).on("click", "td input, td select", function () {
        let cell = $(this).parent(); 
        let inputType = $(this).attr("type"); 
        
        if (inputType === "date" || $(this).is("select")) return;
        
        let currentText = $(this).val();
        $("#modalInput").val(currentText);
        $("#editModal").modal("show");
      
        $("#saveEdit").off("click").on("click", function () {
          let newText = $("#modalInput").val();
          cell.html(`<input type="text" class="form-control" value="${newText}">`);
          $("#editModal").modal("hide");
        });
      });
      
      
    </script>
  </head>
</head>

  <body>
    <!-- Begin Body Wrapper -->
    <div class="body-wrapper">
      <!-- Begin Header Area -->
      <header>
        <!-- Begin Header Top Area -->
        <div class="header-top">
          <div class="container">
            <div class="row">
              <!-- Begin Header Top Left Area -->
              <div class="col-lg-3 col-md-4">
                <div class="header-top-left">
                  <ul class="phone-wrap">
                    <li><span>Hotline:</span><a href="#"> 0907 941 322</a></li>
                  </ul>
                </div>
              </div>
              <div class="col-lg-9 col-md-8">
                <div class="header-top-right">
                  <ul class="ht-menu">
                    <li>
                      <div><span>Quản Lý</span></div>
                    </li>
                    <li>
                      <span class="currency-selector-wrapper">Tiền tệ :</span>
                      <div class="ht-currency-trigger">
                        <span>VNĐ đồng</span>
                      </div>
                      <div class="currency ht-currency">
                        <ul class="ht-setting-list">
                          <li><a href="#">VNĐ đồng</a></li>
                          <li class="active"><a href="#">USD $</a></li>
                        </ul>
                      </div>
                    </li>
                    <!-- Currency Area End Here -->
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Begin Header Middle Area -->
        <div class="header-middle pl-sm-0 pr-sm-0 pl-xs-0 pr-xs-0">
          <div class="container">
            <div class="row">
              <!-- Begin Header Logo Area -->
              <div class="col-lg-3">
                <div class="logo pb-sm-30 pb-xs-30">
                  <a href="#">
                    <img src="../images//menu/logo/1.png" alt="" />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Header Middle Area End Here -->
        <!-- Begin Header Bottom Area -->
        <div class="header-bottom header-sticky d-none d-lg-block d-xl-block">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <!-- Begin Header Bottom Menu Area -->
                <div class="hb-menu">
                  <nav>
                    <ul>
                      <li><a href="manager_herbal.html">Sản Phẩm</a></li>
                      <li><a href="manager_user.html">Người Dùng</a></li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="mobile-menu-area d-lg-none d-xl-none col-12">
          <div class="container">
            <div class="row">
              <div class="mobile-menu"></div>
            </div>
          </div>
        </div>
      </header>
      <div class="breadcrumb-area">
        <div class="container">
          <div class="breadcrumb-content">
            <ul>
              <li class="active">Quản Lý</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Modal chỉnh sửa -->
<div id="editModal" class="modal fade" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Chỉnh sửa thông tin</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <label>Nội dung chỉnh sửa:</label>
        <textarea id="modalInput" class="form-control" rows="5"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="saveEdit">Lưu</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
      </div>
    </div>
  </div>
</div>

      <div class="container-lg">
        <div class="table-responsive">
          <div class="table-wrapper">
            <div class="table-title">
              <div class="row">
                <div class="col-sm-8">
                  <h2>Quản Lý <b>Người Dùng</b></h2>
                </div>
                <div class="col-sm-4">
                  <button type="button" class="btn btn-info add-new">
                    <i class="fa fa-plus"></i> Thêm mới
                  </button>
                </div>
              </div>
            </div>
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Họ và tên</th>
                  <th>Vai trò</th>
                  <th>Ngày sinh</th>
                  <th>Số điện thoại</th>
                  <th>CCCD</th>
                  <th>Email</th>
                  <th>Hoạt Động</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Nguyễn Văn A</td>
                  <td>Bác sỹ</td>
                  <td>1980-01-01</td>
                  <td>0123456789</td>
                  <td>123456789</td>
                  <td>nguyenvana@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Nguyễn Văn B</td>
                  <td>Khách hàng</td>
                  <td>1980-01-01</td>
                  <td>0123456789</td>
                  <td>123456789</td>
                  <td>nguyenvana@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Trần Thị C</td>
                  <td>Bác sỹ</td>
                  <td>1975-05-12</td>
                  <td>0987654321</td>
                  <td>987654321</td>
                  <td>tranthic@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Phạm Văn D</td>
                  <td>Khách hàng</td>
                  <td>1990-08-25</td>
                  <td>0912345678</td>
                  <td>123123123</td>
                  <td>phamvand@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Lê Thị E</td>
                  <td>Bác sỹ</td>
                  <td>1982-11-30</td>
                  <td>0905678912</td>
                  <td>456789123</td>
                  <td>lethie@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Hoàng Văn F</td>
                  <td>Khách hàng</td>
                  <td>1995-03-15</td>
                  <td>0934567890</td>
                  <td>789456123</td>
                  <td>hoangvanf@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>
                <tr>
                  <td>Vũ Thị G</td>
                  <td>Bác sỹ</td>
                  <td>1978-07-20</td>
                  <td>0976543210</td>
                  <td>321654987</td>
                  <td>vuthig@example.com</td>
                  <td>
                    <a class="add" title="Add" data-toggle="tooltip">
                      <i class="material-icons">&#xE03B;</i></a>
                    <a class="edit" title="Edit" data-toggle="tooltip">
                      <i class="material-icons">&#xE254;</i>
                    </a>
                    <a class="delete" title="Delete" data-toggle="tooltip">
                      <i class="material-icons">&#xE872;</i>
                    </a>
                  </td>
                </tr>                
              </tbody>
            </table>
          </div>
        </div>
      </div>
  

      <div class="footer">
        <!-- Begin Footer Static Middle Area -->
        <div class="footer-static-middle">
          <div class="container">
            <div class="footer-logo-wrap pt-50 pb-35">
              <div class="row">
                <!-- Begin Footer Logo Area -->
                <div class="col-lg-4 col-md-6">
                  <div class="footer-logo">
                    <img src="../images//menu/logo/1.png" alt="Footer Logo" />
                    <p class="info">
                      Chúng tôi là đội ngũ thầy thuốc tận tâm và đáng tin cậy,
                      chuyên cung cấp các liệu pháp điều trị theo y học phương
                      Đông, kết hợp tinh hoa cổ truyền và sự tận tụy vì sức khỏe
                      của bạn.
                    </p>
                  </div>
                  <ul class="des">
                    <li>
                      <span>Địa chỉ: </span>
                      Nam Kỳ Khởi Nghĩa, P. Hòa Phú, Thành phố Thủ Dầu Một, T.
                      Bình Dương
                    </li>
                    <li>
                      <span>Phone: </span>
                      <a href="#">0907 941 322</a>
                    </li>
                    <li>
                      <span>Email: </span>
                      <a href="mailto://info@yourdomain.com"
                        >trankhanhbinh1234@gmail.com</a
                      >
                    </li>
                  </ul>
                </div>
                <div class="col-lg-4">
                  <div class="footer-block">
                    <h3 class="footer-block-title">Theo dõi chúng tôi</h3>
                    <ul class="social-link">
                      <li class="twitter">
                        <a
                          href="https://twitter.com/"
                          data-toggle="tooltip"
                          target="_blank"
                          title="Twitter"
                        >
                          <i class="fa fa-twitter"></i>
                        </a>
                      </li>
                      <li class="rss">
                        <a
                          href="https://rss.com/"
                          data-toggle="tooltip"
                          target="_blank"
                          title="RSS"
                        >
                          <i class="fa fa-rss"></i>
                        </a>
                      </li>
                      <li class="google-plus">
                        <a
                          href="https://www.plus.google.com/discover"
                          data-toggle="tooltip"
                          target="_blank"
                          title="Google Plus"
                        >
                          <i class="fa fa-google-plus"></i>
                        </a>
                      </li>
                      <li class="facebook">
                        <a
                          href="https://www.facebook.com/"
                          data-toggle="tooltip"
                          target="_blank"
                          title="Facebook"
                        >
                          <i class="fa fa-facebook"></i>
                        </a>
                      </li>
                      <li class="youtube">
                        <a
                          href="https://www.youtube.com/"
                          data-toggle="tooltip"
                          target="_blank"
                          title="Youtube"
                        >
                          <i class="fa fa-youtube"></i>
                        </a>
                      </li>
                      <li class="instagram">
                        <a
                          href="https://www.instagram.com/"
                          data-toggle="tooltip"
                          target="_blank"
                          title="Instagram"
                        >
                          <i class="fa fa-instagram"></i>
                        </a>
                      </li>
                    </ul>
                  </div>
                  <!-- Begin Footer Newsletter Area -->
                  <div class="footer-newsletter">
                    <h4>Đăng ký nhận thông báo mới nhất</h4>
                    <form
                      action="#"
                      method="post"
                      id="mc-embedded-subscribe-form"
                      name="mc-embedded-subscribe-form"
                      class="footer-subscribe-form validate"
                      target="_blank"
                      novalidate
                    >
                      <div id="mc_embed_signup_scroll">
                        <div
                          id="mc-form"
                          class="mc-form subscribe-form form-group"
                        >
                          <input
                            id="mc-email"
                            type="email"
                            autocomplete="off"
                            placeholder="Nhập email"
                          />
                          <button class="btn" id="mc-submit">Theo dõi</button>
                        </div>
                      </div>
                    </form>
                  </div>
                  <!-- Footer Newsletter Area End Here -->
                </div>
                <!-- Footer Block Area End Here -->
              </div>
            </div>
          </div>
        </div>
        <!-- Footer Static Middle Area End Here -->
        <!-- Begin Footer Static Bottom Area -->
        <div class="footer-static-bottom pt-55 pb-55">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <!-- Begin Footer Links Area -->
                <div class="footer-links">
                  <ul>
                    <li><a href="#">/web được thực hiện bới tkb</a></li>
                  </ul>
                </div>
                <div class="copyright text-center">
                  <a href="#">
                    <img src="../images//payment/1.png" alt="" />
                  </a>
                </div>

                <div class="copyright text-center pt-25">
                  <span
                    ><a href="faq.html" target="_blank"
                      >Đặt câu hỏi cho chúng tôi</a
                    ></span
                  >
                </div>
                <!-- Copyright Area End Here -->
              </div>
            </div>
          </div>
        </div>
        <!-- Footer Static Bottom Area End Here -->
      </div>
      <!-- Footer Area End Here -->
    </div>
    <!-- Body Wrapper End Here -->
    <!-- Popper js -->
    <script src="js/vendor/popper.min.js"></script>
    <!-- Ajax Mail js -->
    <script src="js/ajax-mail.js"></script>
    <!-- Meanmenu js -->
    <script src="js/jquery.meanmenu.min.js"></script>
    <!-- Wow.min js -->
    <script src="js/wow.min.js"></script>
    <!-- Slick Carousel js -->
    <script src="js/slick.min.js"></script>
    <!-- Owl Carousel-2 js -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- Magnific popup js -->
    <script src="js/jquery.magnific-popup.min.js"></script>
    <!-- Isotope js -->
    <script src="js/isotope.pkgd.min.js"></script>
    <!-- ../images/loaded js -->
    <script src="js/../images/loaded.pkgd.min.js"></script>
    <!-- Mixitup js -->
    <script src="js/jquery.mixitup.min.js"></script>
    <!-- Countdown -->
    <script src="js/jquery.countdown.min.js"></script>
    <!-- Counterup -->
    <script src="js/jquery.counterup.min.js"></script>
    <!-- Waypoints -->
    <script src="js/waypoints.min.js"></script>
    <!-- Barrating -->
    <script src="js/jquery.barrating.min.js"></script>
    <!-- Jquery-ui -->
    <script src="js/jquery-ui.min.js"></script>
    <!-- Venobox -->
    <script src="js/venobox.min.js"></script>
    <!-- Nice Select js -->
    <script src="js/jquery.nice-select.min.js"></script>
    <!-- ScrollUp js -->
    <script src="js/scrollUp.min.js"></script>
    <!-- Main/Activator js -->
    <script src="js/main.js"></script>
  </body>
</html>
